<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Вывод число подписчиков у групп.</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="page_wrapper">
      <div class="page_title">
        <h1>Информация о группах</h1>
      </div>
      <div class="page_content">
        <table id="groupTable">
          <thead>
            <tr>
              <th>N</th>
              <th>Сайт</th>
              <th>ВКонтaaaaaaaaaaaакте</th>
              <th>Подписaaaaaaaaaaaaaaaaчики VK</th>
              <th>Одноклaaaaaaaaaaaассники</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <script>
      function fetchGroupInfo(access_token, application_key, sig, uids) {
        const fields = "members_count";
        const baseUrl = "https://api.ok.ru/fb.do";

        uids.forEach((uid) => {
          const url = `${baseUrl}?application_key=${application_key}&format=json&method=group.getInfo&uids=${uid}&fields=${fields}&sig=${sig}&access_token=${access_token}`;

          $.ajax({
            url: url,
            method: "GET",
            dataType: "json",
            success: function (data) {
              console.log("Request was successful", data[0].members_count);
            },
            error: function (jqXHR, textStatus, errorThrown) {
              console.log("Request failed", textStatus, errorThrown);
            },
          });
        });
      }

      const accessToken =
        "tkn1s0H0uYMTtJgzvVcQkQ3NbyoS9QRueaWHZp9PuvVNrJWZOttedH2nv2ysCfBK1yow73";
      const applicationKey = "CENQJGLGDIHBABABA";
      const sig = "747f36a9ce1daeffd76d925cc4b03a73";
      const uids = [
      "65585356013631",
      "61447539589213",
      "64082898845939",
      "62425640075484",
      "60209719017685",
      "64257968636145",
      "61074670813332",
      "70000001128266",
      "70000000538635",
      "63194682491055",
      "70000000818293",
      "62392503304386",
      "70000000422151",
      "70000000418973",
      "70000000410509",
      "70000001303003",
      "61076659372175",
      "70000000136538",
      "70000000757382",
      "70000001063557",
      "70000000537999",
      "70000000359259",
      "70000000500870",
      "70000000473298",
      "53953780711585",
      "70000000738405",
      "70000000776051",
      "70000000440016",
      "70000001185248",
      "70000000496699",
      "70000000811445",
      "70000000410307",
      "70000000409283",
      "70000000457750",
      "70000000434580",
      "70000000442163",
      "70000000133221",
      "61086541349006",
      "70000000461971",
      "60219072774357",
      "70000000438733",
      "70000000458830",
      "62091761680498",
      "70000000123655",
      "70000000409247",
      "70000000457367",
      "70000000422531",
      "70000000512998",
      "70000000419229",
      "70000000396473",
      "70000000425853",
      "70000000435688",
      "70000000417164",
      "70000000436100",
      "70000000444493",
      "70000000462961",
      "70000000431528",
      "70000000391240",
      "70000000488052",
      "70000000460726",
      "70000000414690",
      "70000000391156",
      "68698755039291",
      "70000000452245",
      "60510021550293",
      "64268378964208",
      "70000001213030",
      "70000001316025",
    ]; // Replace these with your actual uids

      fetchGroupInfo(accessToken, applicationKey, sig, uids);
    </script>
  </body>
</html>
<!-- https://api.ok.ru/fb.do?application_key=CENQJGLGDIHBABABA&format=json&method=group.getInfo&uids=61447539589213&fields=members_count&sig=747f36a9ce1daeffd76d925cc4b03a73&access_token=tkn1s0H0uYMTtJgzvVcQkQ3NbyoS9QRueaWHZp9PuvVNrJWZOttedH2nv2ysCfBK1yow73 -->
